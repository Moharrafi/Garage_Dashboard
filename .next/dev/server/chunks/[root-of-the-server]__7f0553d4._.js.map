{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/gtavapor/lib/db.ts"],"sourcesContent":["import mysql from \"mysql2/promise\"\n\nconst requiredEnv = [\"MYSQL_HOST\", \"MYSQL_PORT\", \"MYSQL_USER\", \"MYSQL_PASSWORD\", \"MYSQL_DATABASE\"] as const\n\nfor (const key of requiredEnv) {\n  if (!process.env[key]) {\n    throw new Error(`Missing required environment variable: ${key}`)\n  }\n}\n\nconst pool = mysql.createPool({\n  host: process.env.MYSQL_HOST,\n  port: Number(process.env.MYSQL_PORT),\n  user: process.env.MYSQL_USER,\n  password: process.env.MYSQL_PASSWORD,\n  database: process.env.MYSQL_DATABASE,\n  waitForConnections: true,\n  connectionLimit: Number(process.env.MYSQL_POOL_SIZE ?? 10),\n  timezone: \"+00:00\",\n})\n\nexport async function query<T>(sql: string, params: unknown[] = []) {\n  const [rows] = await pool.query(sql, params)\n  return rows as T\n}\n\nexport async function getConnection() {\n  return pool.getConnection()\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cAAc;IAAC;IAAc;IAAc;IAAc;IAAkB;CAAiB;AAElG,KAAK,MAAM,OAAO,YAAa;IAC7B,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,EAAE;QACrB,MAAM,IAAI,MAAM,CAAC,uCAAuC,EAAE,KAAK;IACjE;AACF;AAEA,MAAM,OAAO,8IAAK,CAAC,UAAU,CAAC;IAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;IAC5B,MAAM,OAAO,QAAQ,GAAG,CAAC,UAAU;IACnC,MAAM,QAAQ,GAAG,CAAC,UAAU;IAC5B,UAAU,QAAQ,GAAG,CAAC,cAAc;IACpC,UAAU,QAAQ,GAAG,CAAC,cAAc;IACpC,oBAAoB;IACpB,iBAAiB,OAAO,QAAQ,GAAG,CAAC,eAAe,IAAI;IACvD,UAAU;AACZ;AAEO,eAAe,MAAS,GAAW,EAAE,SAAoB,EAAE;IAChE,MAAM,CAAC,KAAK,GAAG,MAAM,KAAK,KAAK,CAAC,KAAK;IACrC,OAAO;AACT;AAEO,eAAe;IACpB,OAAO,KAAK,aAAa;AAC3B"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/gtavapor/app/api/units/route.ts"],"sourcesContent":["import { NextResponse, type NextRequest } from \"next/server\"\nimport { query } from \"@/lib/db\"\nimport type { Unit } from \"@/lib/types\"\n\nexport async function GET() {\n  const units = await query<Unit[]>(\"SELECT * FROM units ORDER BY created_at DESC\")\n  return NextResponse.json(units)\n}\n\nexport async function POST(request: NextRequest) {\n  const body = await request.json()\n  const id = crypto.randomUUID()\n\n  await query(\n    `INSERT INTO units (\n      id, vehicle_type, brand, owner_name, phone, service_type, status,\n      check_in_date, check_out_date, estimated_cost, final_cost, notes,\n      created_at, updated_at\n    ) VALUES (\n      ?, ?, ?, ?, ?, ?, 'check-in', ?, NULL, ?, NULL, ?, NOW(), NOW()\n    )`,\n    [\n      id,\n      body.vehicle_type,\n      body.brand,\n      body.owner_name,\n      body.phone,\n      body.service_type,\n      body.check_in_date,\n      body.estimated_cost,\n      body.notes,\n    ],\n  )\n\n  const [unit] = await query<Unit[]>(\"SELECT * FROM units WHERE id = ?\", [id])\n  return NextResponse.json(unit, { status: 201 })\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,QAAQ,MAAM,IAAA,oHAAK,EAAS;IAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,OAAoB;IAC7C,MAAM,OAAO,MAAM,QAAQ,IAAI;IAC/B,MAAM,KAAK,OAAO,UAAU;IAE5B,MAAM,IAAA,oHAAK,EACT,CAAC;;;;;;KAMA,CAAC,EACF;QACE;QACA,KAAK,YAAY;QACjB,KAAK,KAAK;QACV,KAAK,UAAU;QACf,KAAK,KAAK;QACV,KAAK,YAAY;QACjB,KAAK,aAAa;QAClB,KAAK,cAAc;QACnB,KAAK,KAAK;KACX;IAGH,MAAM,CAAC,KAAK,GAAG,MAAM,IAAA,oHAAK,EAAS,oCAAoC;QAAC;KAAG;IAC3E,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;QAAE,QAAQ;IAAI;AAC/C"}}]
}